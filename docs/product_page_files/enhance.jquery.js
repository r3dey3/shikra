(function(n){var l=[],h={thumbListId:"#thumbs",activeWrapperId:"#active-wrapper",activeImageId:"#active-image",loadingLabel:"Loading..."},f,a,d;n.fn.enhanceGallery=function(i){return i&&n.extend(h,i),this.length>0&&(f=n(h.thumbListId,this),a=n(h.activeWrapperId,this),d=n('<div id="active-image-loading">'+h.loadingLabel+"</div>"),p(f.find("a:first").attr("href"),f.find("a:first img").attr("alt")),f.find("a").click(function(e){p(this.href,this.alt),e.preventDefault()})),this};function g(i){var e=a.width()/i.originalWidth,t=a.width(),r=i.originalWidth<t?i.originalHeight:~~(i.originalHeight*e);u(),a.empty().height(r).append(i.tag),i.originalWidth>t&&n(h.activeImageId).width(t).height(r).hover(function(){n(this).addClass("zoomed").width(i.originalWidth).height(i.originalHeight),a.mousemove(function(o){var w=~~((o.pageX-a.offset().left)/t*100),s=~~((o.pageY-a.offset().top)/r*100);s>100&&(s=100);var W=(i.originalWidth-t)*w/100,I=(i.originalHeight-r)*s/100;n(h.activeImageId).css("left",-W+"px").css("top",-I+"px")})},function(){n(this).removeClass("zoomed").width(t).height(r),a.unbind("mousemove")})}function p(i,t){var t=t||"",r=m(i);if(r===!1){var o=document.createElement("img");o.id="active-image",o.onload=function(){v(o,i)},o.src=i,o.alt=t,c()}else g(r)}function v(i,e){var t={tag:i,url:e,originalWidth:i.width,originalHeight:i.height};l.push(t),g(t)}function c(){a.append(d);var i=a.width()/2-d.width()/2,e=a.height()/2-d.height()/2;d.css("top",e+"px").css("left",i+"px")}function u(){d.remove()}function m(i){for(var e=0;e<l.length;e++)if(l[e].url===i)return console.log("FOUND THE CACHED IMAGE"),l[e];return!1}})(jQuery);
//# sourceMappingURL=/s/files/1/0244/5107/t/1/assets/enhance.jquery.js.map?0=
